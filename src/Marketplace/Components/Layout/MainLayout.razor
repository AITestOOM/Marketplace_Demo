@inherits LayoutComponentBase
@using MudBlazor

@inject IDialogService DialogService
@inject ISnackbar Snackbar

<MudThemeProvider Theme="_myCustomTheme" />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>
    <MudAppBar Elevation="0" Fixed="true" Class="stacked-app-bar" Style="background-color: #1D1E23; color: #F7F7F7;">
        <CustomAppBar/>
        @*<SubNavBar/>*@
    </MudAppBar>

    @*  <MudDrawer @bind-Open="_drawerOpen"
               ClipMode="DrawerClipMode.Always"
               Elevation="2"
               Variant="DrawerVariant.Responsive"
               Breakpoint="Breakpoint.Sm">
         <NavMenu />
    </MudDrawer> *@

    <MudMainContent Class="main-content-padded">
        <MudContainer MaxWidth="MaxWidth.Large" Class="py-4">
            @Body
        </MudContainer>
    </MudMainContent>
</MudLayout>

<style>
    .stacked-app-bar > .mud-toolbar-appbar {
        flex-direction: column;
        align-items: stretch;
        height: auto;
    }

    .main-content-padded {
        padding-top: 104px;
    }

    .sub-nav-tabs .mud-tab {
        color: #808080;
        text-transform: none;
    }

        .sub-nav-tabs .mud-tab.mud-tab-active {
            color: #FFFFFF !important;
        }

    .sub-nav-tabs .mud-tabs-indicator {
        background-color: #0081EC !important;
        height: 1px !important;
    }
</style>

@code {
    private bool _drawerOpen = true;

    private void ToggleDrawer()
    {
        _drawerOpen = !_drawerOpen;
    }

    private readonly MudTheme _myCustomTheme = new()
    {
        PaletteLight = new PaletteLight()
        {
            Primary = "#0081EC", // The blue accent color from icons and underline
            AppbarBackground = "#1D1E23", // The dark background from app bar
            AppbarText = "#808080", // The white text color from app bar title
            Background = "#121315",        // The darkest color for the main page background
            TextPrimary = "#F7F7F7",
            Surface = "#1D1E23"

        },
        Typography = new Typography()
        {
            Default = new DefaultTypography() { FontFamily = new[] { "Nimbus Sans D OT", "sans-serif" } },
            H6 = new H6Typography() { FontSize = "22px", FontWeight = "700" }
        }
    };
}
