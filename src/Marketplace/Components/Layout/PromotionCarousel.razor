@using MudBlazor

@if (_isCarouselVisible)
{
    <MudCarousel Class="mud-elevation-25" Style="height:140px; border-radius: 3px;"
                 ShowArrows="false" ShowBullets="true" EnableSwipe="true"
                 AutoCycle="true" TData="object">

        @foreach (var item in _promotionItems)
        {
            <MudCarouselItem>
                <MudCard Style="background-color: #1D1E23; height: 100%;">
                    <MudCardContent>
                        <div class="d-flex justify-space-between align-start">
                            <div>
                                <MudText Style="color: #FFFFFF; font-family: 'Nimbus Sans D OT', sans-serif; font-size: 16px; font-weight: 400; line-height: 19px;">@item.Title</MudText>
                                <MudText Style="color: #808080; font-family: 'Nimbus Sans D OT', sans-serif; font-size: 14px; font-weight: 400; line-height: 17px;">@item.Subtitle</MudText>
                            </div>
                            @* <MudIconButton Icon="@Icons.Material.Filled.Close" Size="Size.Small" Style="color: #808080;" OnClick="HideCarousel" /> *@
                        </div>
                    </MudCardContent>
                </MudCard>
            </MudCarouselItem>
        }

    </MudCarousel>
}
else
{
    @* <MudButton OnClick="ShowCarousel"
               FullWidth="true"
               Style="border-color: #0054A4; text-transform: none; justify-content: space-between; padding: 8px 16px; border-radius: 3px;">
        <MudText Class="carousel-title"></MudText>
        <MudIcon Icon="@Icons.Material.Filled.KeyboardArrowDown" Style="color: #0081EC;" />
    </MudButton> *@
}


@code {
    private bool _isCarouselVisible = true;

    private class PromotionItem
    {
        public string Title { get; set; }
        public string Subtitle { get; set; }
    }

    private List<PromotionItem> _promotionItems = new();

    protected override void OnInitialized()
    {
        _promotionItems = new List<PromotionItem>
        {
            new() { Title = "Záhradné služby", Subtitle = "Údržba záhrady počas celého roka" },
            new() { Title = "Jarné Upratovanie", Subtitle = "Nechajte svoj domov zažiariť" },
            new() { Title = "Nové Technológie", Subtitle = "Objavte najnovšie gadgety" }
        };
    }

    private void HideCarousel()
    {
        _isCarouselVisible = false;
    }

    private void ShowCarousel()
    {
        _isCarouselVisible = true;
    }
}
